<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>DFS</title>
    <script>
        class Stack {
            constructor() {
                this.items = [];
            }

            push(element) {
                this.items.push(element);
            }

            pop() {
                if (this.isEmpty()) return null;
                return this.items.pop();
            }

            isEmpty() {
                return this.items.length === 0;
            }
        }

        function dfsMinCostPath(graph, start, end, costs) {
            let stack = new Stack();
            let visited = new Array(graph.length).fill(false);
            let minCost = { min: Infinity, path: [] };

            stack.push({ vertex: start, path: [], cost: 0 });

            while (!stack.isEmpty()) {
                let { vertex, path, cost } = stack.pop();

                visited[vertex] = true;
                path.push(vertex);

                if (vertex === end && cost < minCost.min) {
                    minCost.min = cost;
                    minCost.path = [...path];
                }

                for (let neighbor = graph.length - 1; neighbor >= 0; neighbor--) {
                    if (graph[vertex][neighbor] === 1 && !visited[neighbor]) {
                        stack.push({ vertex: neighbor, path: [...path], cost: cost + costs[vertex][neighbor] });
                    }
                }
            } //end while

            return minCost;
        }

        // Sử dụng đồ thị và ma trận chi phí để kiểm tra
        let graph = [
            [0, 1, 1, 0],
            [0, 0, 1, 0],
            [0, 0, 0, 1],
            [0, 0, 0, 0]
        ];

        let costs = [
            [0, 3, 11, Infinity],
            [Infinity, 0, 7, Infinity],
            [Infinity, Infinity, 0, 2],
            [Infinity, Infinity, Infinity, 0]
        ];

        let startVertex = 0;
        let endVertex = 3;

        let minCost = dfsMinCostPath(graph, startVertex, endVertex, costs);
        console.log("Đường đi với chi phí tối thiểu:", minCost.path, ' chi phí = ', minCost.min);


    </script>
</head>
<body>
    <button onclick="Click vào đây()">Click vào đây</button>
</body>
</html>