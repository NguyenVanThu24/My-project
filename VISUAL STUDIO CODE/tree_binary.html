<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Tree Binary</title>
</head>
<script>
    class TreeNode {
        constructor(value) {
            this.value = value;
            this.left = null;
            this.right = null;
        }
    }

    class BinaryTree {
        constructor() {
            this.root = null;
        }

        insert(value) {
            const newNode = new TreeNode(value);

            if (this.root === null) {
                this.root = newNode;
            } else {
                this.insertNode(this.root, newNode);
            }
        }

        insertNode(node, newNode) {
            if (newNode.value < node.value) {
                if (node.left === null) {
                    node.left = newNode;
                } else {
                    this.insertNode(node.left, newNode);
                }
            } else {
                if (node.right === null) {
                    node.right = newNode;
                } else {
                    this.insertNode(node.right, newNode);
                }
            }
        }

        search(value) {
            return this.searchNode(this.root, value);
        }

        searchNode(node, value) {
            if (node === null) {
                return false;
            }

            if (value < node.value) {
                return this.searchNode(node.left, value);
            } else if (value > node.value) {
                return this.searchNode(node.right, value);
            } else {
                return true; // Nút có giá trị bằng value
            }
        }

        // Các phương thức duyệt cây
        inOrderTraversal(callback) {
            this.inOrderTraversalNode(this.root, callback);
        }

        inOrderTraversalNode(node, callback) {
            if (node !== null) {
                this.inOrderTraversalNode(node.left, callback);
                callback(node.value);
                this.inOrderTraversalNode(node.right, callback);
            }
        }

        preOrderTraversal(callback) {
            this.preOrderTraversalNode(this.root, callback);
        }

        preOrderTraversalNode(node, callback) {
            if (node !== null) {
                callback(node.value);
                this.preOrderTraversalNode(node.left, callback);
                this.preOrderTraversalNode(node.right, callback);
            }
        }

        postOrderTraversal(callback) {
            this.postOrderTraversalNode(this.root, callback);
        }

        postOrderTraversalNode(node, callback) {
            if (node !== null) {
                this.postOrderTraversalNode(node.left, callback);
                this.postOrderTraversalNode(node.right, callback);
                callback(node.value);
            }
        }
    }

    // Sử dụng cây nhị phân
    let binaryTree = new BinaryTree();

    binaryTree.insert(8);
    binaryTree.insert(3);
    binaryTree.insert(10);
    binaryTree.insert(1);
    binaryTree.insert(6);
    binaryTree.insert(14);

    console.log("In-order traversal:");
    binaryTree.inOrderTraversal(value => console.log(value));

    console.log("\nPre-order traversal:");
    binaryTree.preOrderTraversal(value => console.log(value));

    console.log("\nPost-order traversal:");
    binaryTree.postOrderTraversal(value => console.log(value));

    console.log("\nSearch for 6:", binaryTree.search(6)); // true
    console.log("Search for 9:", binaryTree.search(9)); // false

</script>
<body>

</body>
</html>